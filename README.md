# Домашнее задание к занятию 1.3. Базы данных. MVC. Модель

## Задача 1 

### Создать БД магазина гитар

1. Настроить конфигурацию приложения для работы с SQLite и создать файл `database\database.sqlite`
2. Создать модель и миграцию для таблицы `guitar_types` с колонками `id` и `type`. Типы колонок привести к соответствию хранимой информации

    Пример записи в таблице:

    ```php
    [
    	'id' => 1,
    	'name' => 'Электрогитара'
    ]
    ```

3. Создать семена для таблицы `guitar_types` 

    ```php
    [
        [
            'type' => 'Электрогитара'
        ],
        [
            'type' => 'Акустическая гитара'
        ],
        [
            'type' => 'Укулеле'
        ],
    ]
    ```

4. Создать модель и миграцию для таблицы `guitars` с колонками `id` `brand`, `model`, `type_id`, `price`, `created_at` и `updated_at`. Типы колонок привести в соответствии с хранимой информацией. Запись в колонку `price` - опциональна 

    Пример записи в таблице:

    ```php
    [
    	'id' => 1,
    	'brand' => 'Fender',
    	'model' => 'Stratocaster',
    	'type_id' => 1,
    	'price' => 11000,
    	'created_at' => 2020-09-14 12:18:11,
    	'updated_at' => 2020-09-14 12:18:11,
    ]
    ```

5. Запустить миграции с семенами и убедиться, что все прошло успешно 
6. В модели `Guitar` добавить отношения с таблицей `guitar_types`
7. Создать get-маршрут `/create`, по которому будет происходить запись новых товаров в таблицу `guitars`. Данные вводить вручную, в функции-обработчике. После создания вывести сообщение

    ```php
    Товар ID #1 Fender Stratocaster успешно добавлен.
    ```

8. Создать несколько различных записей товаров с разными `type_id`. 
9. Создать get-маршрут `/show`, где по `id` записи будет находиться товар и будет происходить вывод информации о нем. `id` можно подставлять вручную. Пример вывода

    ```php
    ID товара - 1
    Бренд - Fender
    Модель - Stratocaster
    Тип - Электрогитара
    Цена - 11000 руб.
    ```

## Задача 2 * (задача со звездочкой)

1. Реализовать работу маршрутов с передачей `id` через URI. Пример `/show/1`
2. Создать get-маршрут `/update`, где по `id` записи будет находиться товар и будет происходить обновление какой-либо информации. `id` можно подставлять вручную или брать из `URI`. Пример сообщения после обновления

    ```php
    Товар ID #1 Fender Stratocaster успешно обновлен. Новая цена - 9999 руб.
    ```

3. Создать get-маршрут `/delete`, где по `id` записи будет находиться товар и будет происходить его удалении из таблицы. `id` можно подставлять вручную или брать из `URI`. Пример сообщения после удаления

    ```php
    Товар ID #1 Fender Stratocaster успешно удален.
    ```
